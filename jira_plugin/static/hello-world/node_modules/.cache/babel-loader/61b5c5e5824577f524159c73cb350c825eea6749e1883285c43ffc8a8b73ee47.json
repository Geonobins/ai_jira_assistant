{"ast":null,"code":"import _regeneratorRuntime from\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{events,invoke}from'@forge/bridge';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),fixPlan=_useState4[0],setFixPlan=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var handleFetchError=function handleFetchError(){console.error('Failed to fetch issue');};useEffect(function(){var fetchIssueData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",invoke('fetchIssueData'));case 1:case\"end\":return _context.stop();}},_callee);}));return function fetchIssueData(){return _ref.apply(this,arguments);};}();fetchIssueData().then(setData).catch(handleFetchError);var subscription=events.on('JIRA_ISSUE_CHANGED',function(){fetchIssueData().then(setData).catch(handleFetchError);});return function(){return subscription.then(function(sub){return sub.unsubscribe();});};},[]);var generateFixPlan=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(data){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:setLoading(true);_context2.prev=3;_context2.next=6;return fetch('http://localhost:8000/analyze',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});case 6:response=_context2.sent;_context2.next=9;return response.json();case 9:result=_context2.sent;setFixPlan(result.fix_plan);_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](3);console.error('Error generating fix plan:',_context2.t0);setFixPlan('‚ùå Failed to get fix plan.');case 17:setLoading(false);case 18:case\"end\":return _context2.stop();}},_callee2,null,[[3,13]]);}));return function generateFixPlan(){return _ref2.apply(this,arguments);};}();if(!data)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDDE0 AI Bug Context\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Issue Key:\"}),\" \",data.key]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Summary:\"}),\" \",data.summary]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",data.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Labels:\"}),\" \",data.labels.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Components:\"}),\" \",data.components.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reporter:\"}),\" \",data.reporter]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:generateFixPlan,disabled:loading,children:loading?'üîç Analyzing...':'üí° Generate Fix Plan'}),fixPlan&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',backgroundColor:'#f4f4f4',padding:'10px',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fix Plan:\"}),/*#__PURE__*/_jsx(\"p\",{children:fixPlan})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","events","invoke","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","fixPlan","setFixPlan","_useState5","_useState6","loading","setLoading","handleFetchError","console","error","fetchIssueData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","apply","arguments","then","catch","subscription","on","sub","unsubscribe","generateFixPlan","_ref2","_callee2","response","result","_callee2$","_context2","fetch","method","headers","body","JSON","stringify","sent","json","fix_plan","t0","children","key","summary","description","labels","join","components","reporter","onClick","disabled","style","marginTop","backgroundColor","padding","borderRadius"],"sources":["G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { events, invoke } from '@forge/bridge';\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [fixPlan, setFixPlan] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleFetchError = () => {\n    console.error('Failed to fetch issue');\n  };\n\n  useEffect(() => {\n    const fetchIssueData = async () => invoke('fetchIssueData');\n    fetchIssueData().then(setData).catch(handleFetchError);\n\n    const subscription = events.on('JIRA_ISSUE_CHANGED', () => {\n      fetchIssueData().then(setData).catch(handleFetchError);\n    });\n\n    return () => subscription.then((sub) => sub.unsubscribe());\n  }, []);\n\n  const generateFixPlan = async () => {\n    if (!data) return;\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:8000/analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n\n      const result = await response.json();\n      setFixPlan(result.fix_plan);\n    } catch (error) {\n      console.error('Error generating fix plan:', error);\n      setFixPlan('‚ùå Failed to get fix plan.');\n    }\n    setLoading(false);\n  };\n\n  if (!data) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h2>üß† AI Bug Context</h2>\n      <p><strong>Issue Key:</strong> {data.key}</p>\n      <p><strong>Summary:</strong> {data.summary}</p>\n      <p><strong>Description:</strong> {data.description}</p>\n      <p><strong>Labels:</strong> {data.labels.join(', ')}</p>\n      <p><strong>Components:</strong> {data.components.join(', ')}</p>\n      <p><strong>Reporter:</strong> {data.reporter}</p>\n\n      <hr />\n\n      <button onClick={generateFixPlan} disabled={loading}>\n        {loading ? 'üîç Analyzing...' : 'üí° Generate Fix Plan'}\n      </button>\n\n      {fixPlan && (\n        <div style={{ marginTop: '1rem', backgroundColor: '#f4f4f4', padding: '10px', borderRadius: '4px' }}>\n          <strong>Fix Plan:</strong>\n          <p>{fixPlan}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}