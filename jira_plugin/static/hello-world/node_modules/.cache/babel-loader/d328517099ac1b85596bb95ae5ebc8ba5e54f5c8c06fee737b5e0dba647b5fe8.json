{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _regeneratorRuntime = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _defineProperty = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Translator = void 0;\nvar translationValueGetter_1 = require(\"./translationValueGetter\");\nvar Translator = /*#__PURE__*/function () {\n  function Translator(locale, translationsGetter) {\n    _classCallCheck(this, Translator);\n    _defineProperty(this, \"locale\", void 0);\n    _defineProperty(this, \"translationsGetter\", void 0);\n    _defineProperty(this, \"localeLookupOrderedTranslations\", null);\n    _defineProperty(this, \"cache\", new Map());\n    this.locale = locale;\n    this.translationsGetter = translationsGetter;\n  }\n  _createClass(Translator, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.translationsGetter.getTranslationsByLocaleLookupOrder(this.locale);\n            case 2:\n              this.localeLookupOrderedTranslations = _context.sent;\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"translate\",\n    value: function translate(i18nKey) {\n      if (!this.localeLookupOrderedTranslations) {\n        throw new Error('TranslationLookup not initialized');\n      }\n      var result = this.cache.get(i18nKey);\n      if (result === undefined) {\n        var _result;\n        var _iterator = _createForOfIteratorHelper(this.localeLookupOrderedTranslations),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var translations = _step.value.translations;\n            var translationValue = (0, translationValueGetter_1.getTranslationValueFromContent)(translations, i18nKey);\n            if (translationValue !== null) {\n              result = translationValue;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        result = (_result = result) !== null && _result !== void 0 ? _result : null;\n        this.cache.set(i18nKey, result);\n      }\n      return result;\n    }\n  }]);\n  return Translator;\n}();\nexports.Translator = Translator;","map":{"version":3,"names":["_createForOfIteratorHelper","require","default","_regeneratorRuntime","_asyncToGenerator","_classCallCheck","_createClass","_defineProperty","Object","defineProperty","exports","value","Translator","translationValueGetter_1","locale","translationsGetter","Map","key","_init","mark","_callee","wrap","_callee$","_context","prev","next","getTranslationsByLocaleLookupOrder","localeLookupOrderedTranslations","sent","stop","init","apply","arguments","translate","i18nKey","Error","result","cache","get","undefined","_result","_iterator","_step","s","n","done","translations","translationValue","getTranslationValueFromContent","err","e","f","set"],"sources":["G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@forge/i18n/out/translator.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Translator = void 0;\nconst translationValueGetter_1 = require(\"./translationValueGetter\");\nclass Translator {\n    locale;\n    translationsGetter;\n    localeLookupOrderedTranslations = null;\n    cache = new Map();\n    constructor(locale, translationsGetter) {\n        this.locale = locale;\n        this.translationsGetter = translationsGetter;\n    }\n    async init() {\n        this.localeLookupOrderedTranslations = await this.translationsGetter.getTranslationsByLocaleLookupOrder(this.locale);\n    }\n    translate(i18nKey) {\n        if (!this.localeLookupOrderedTranslations) {\n            throw new Error('TranslationLookup not initialized');\n        }\n        let result = this.cache.get(i18nKey);\n        if (result === undefined) {\n            for (const { translations } of this.localeLookupOrderedTranslations) {\n                const translationValue = (0, translationValueGetter_1.getTranslationValueFromContent)(translations, i18nKey);\n                if (translationValue !== null) {\n                    result = translationValue;\n                    break;\n                }\n            }\n            result = result ?? null;\n            this.cache.set(i18nKey, result);\n        }\n        return result;\n    }\n}\nexports.Translator = Translator;\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,0BAAA,GAAAC,OAAA,2IAAAC,OAAA;AAAA,IAAAC,mBAAA,GAAAF,OAAA,oIAAAC,OAAA;AAAA,IAAAE,iBAAA,GAAAH,OAAA,kIAAAC,OAAA;AAAA,IAAAG,eAAA,GAAAJ,OAAA,gIAAAC,OAAA;AAAA,IAAAI,YAAA,GAAAL,OAAA,6HAAAC,OAAA;AAAA,IAAAK,eAAA,GAAAN,OAAA,gIAAAC,OAAA;AACbM,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,UAAU,GAAG,KAAK,CAAC;AAC3B,IAAMC,wBAAwB,GAAGZ,OAAO,CAAC,0BAA0B,CAAC;AAAC,IAC/DW,UAAU;EAKZ,SAAAA,WAAYE,MAAM,EAAEC,kBAAkB,EAAE;IAAAV,eAAA,OAAAO,UAAA;IAAAL,eAAA;IAAAA,eAAA;IAAAA,eAAA,0CAFN,IAAI;IAAAA,eAAA,gBAC9B,IAAIS,GAAG,CAAC,CAAC;IAEb,IAAI,CAACF,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,kBAAkB,GAAGA,kBAAkB;EAChD;EAACT,YAAA,CAAAM,UAAA;IAAAK,GAAA;IAAAN,KAAA;MAAA,IAAAO,KAAA,GAAAd,iBAAA,cAAAD,mBAAA,GAAAgB,IAAA,CACD,SAAAC,QAAA;QAAA,OAAAjB,mBAAA,GAAAkB,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACiD,IAAI,CAACV,kBAAkB,CAACW,kCAAkC,CAAC,IAAI,CAACZ,MAAM,CAAC;YAAA;cAApH,IAAI,CAACa,+BAA+B,GAAAJ,QAAA,CAAAK,IAAA;YAAA;YAAA;cAAA,OAAAL,QAAA,CAAAM,IAAA;UAAA;QAAA,GAAAT,OAAA;MAAA,CACvC;MAAA,SAAAU,KAAA;QAAA,OAAAZ,KAAA,CAAAa,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAF,IAAA;IAAA;EAAA;IAAAb,GAAA;IAAAN,KAAA,EACD,SAAAsB,UAAUC,OAAO,EAAE;MACf,IAAI,CAAC,IAAI,CAACP,+BAA+B,EAAE;QACvC,MAAM,IAAIQ,KAAK,CAAC,mCAAmC,CAAC;MACxD;MACA,IAAIC,MAAM,GAAG,IAAI,CAACC,KAAK,CAACC,GAAG,CAACJ,OAAO,CAAC;MACpC,IAAIE,MAAM,KAAKG,SAAS,EAAE;QAAA,IAAAC,OAAA;QAAA,IAAAC,SAAA,GAAAzC,0BAAA,CACS,IAAI,CAAC2B,+BAA+B;UAAAe,KAAA;QAAA;UAAnE,KAAAD,SAAA,CAAAE,CAAA,MAAAD,KAAA,GAAAD,SAAA,CAAAG,CAAA,IAAAC,IAAA,GAAqE;YAAA,IAAxDC,YAAY,GAAAJ,KAAA,CAAA/B,KAAA,CAAZmC,YAAY;YACrB,IAAMC,gBAAgB,GAAG,CAAC,CAAC,EAAElC,wBAAwB,CAACmC,8BAA8B,EAAEF,YAAY,EAAEZ,OAAO,CAAC;YAC5G,IAAIa,gBAAgB,KAAK,IAAI,EAAE;cAC3BX,MAAM,GAAGW,gBAAgB;cACzB;YACJ;UACJ;QAAC,SAAAE,GAAA;UAAAR,SAAA,CAAAS,CAAA,CAAAD,GAAA;QAAA;UAAAR,SAAA,CAAAU,CAAA;QAAA;QACDf,MAAM,IAAAI,OAAA,GAAGJ,MAAM,cAAAI,OAAA,cAAAA,OAAA,GAAI,IAAI;QACvB,IAAI,CAACH,KAAK,CAACe,GAAG,CAAClB,OAAO,EAAEE,MAAM,CAAC;MACnC;MACA,OAAOA,MAAM;IACjB;EAAC;EAAA,OAAAxB,UAAA;AAAA;AAELF,OAAO,CAACE,UAAU,GAAGA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}