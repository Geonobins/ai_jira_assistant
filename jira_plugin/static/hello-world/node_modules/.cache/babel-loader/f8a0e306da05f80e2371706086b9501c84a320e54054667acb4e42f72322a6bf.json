{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withRateLimiter = void 0;\nvar errors_1 = require(\"../errors\");\nvar withRateLimiter = function withRateLimiter(wrappedFn, maxOps, intervalInMs, exceededErrorMessage) {\n  var start = Date.now();\n  var numOps = 0;\n  return /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var now,\n      elapsed,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          now = Date.now();\n          elapsed = now - start;\n          if (elapsed > intervalInMs) {\n            start = now;\n            numOps = 0;\n          }\n          if (!(numOps >= maxOps)) {\n            _context.next = 5;\n            break;\n          }\n          throw new errors_1.BridgeAPIError(exceededErrorMessage || 'Too many invocations.');\n        case 5:\n          numOps = numOps + 1;\n          return _context.abrupt(\"return\", wrappedFn.apply(void 0, _args));\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n};\nexports.withRateLimiter = withRateLimiter;","map":{"version":3,"names":["_regeneratorRuntime","require","default","_asyncToGenerator","Object","defineProperty","exports","value","withRateLimiter","errors_1","wrappedFn","maxOps","intervalInMs","exceededErrorMessage","start","Date","now","numOps","mark","_callee","elapsed","_args","arguments","wrap","_callee$","_context","prev","next","BridgeAPIError","abrupt","apply","stop"],"sources":["G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@forge/bridge/out/utils/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withRateLimiter = void 0;\nconst errors_1 = require(\"../errors\");\nconst withRateLimiter = (wrappedFn, maxOps, intervalInMs, exceededErrorMessage) => {\n    let start = Date.now();\n    let numOps = 0;\n    return async (...args) => {\n        const now = Date.now();\n        const elapsed = now - start;\n        if (elapsed > intervalInMs) {\n            start = now;\n            numOps = 0;\n        }\n        if (numOps >= maxOps) {\n            throw new errors_1.BridgeAPIError(exceededErrorMessage || 'Too many invocations.');\n        }\n        numOps = numOps + 1;\n        return wrappedFn(...args);\n    };\n};\nexports.withRateLimiter = withRateLimiter;\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,mBAAA,GAAAC,OAAA,oIAAAC,OAAA;AAAA,IAAAC,iBAAA,GAAAF,OAAA,kIAAAC,OAAA;AACbE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,eAAe,GAAG,KAAK,CAAC;AAChC,IAAMC,QAAQ,GAAGR,OAAO,CAAC,WAAW,CAAC;AACrC,IAAMO,eAAe,GAAG,SAAlBA,eAAeA,CAAIE,SAAS,EAAEC,MAAM,EAAEC,YAAY,EAAEC,oBAAoB,EAAK;EAC/E,IAAIC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;EACtB,IAAIC,MAAM,GAAG,CAAC;EACd,oBAAAd,iBAAA,cAAAH,mBAAA,GAAAkB,IAAA,CAAO,SAAAC,QAAA;IAAA,IAAAH,GAAA;MAAAI,OAAA;MAAAC,KAAA,GAAAC,SAAA;IAAA,OAAAtB,mBAAA,GAAAuB,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACGX,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,CAAC;UAChBI,OAAO,GAAGJ,GAAG,GAAGF,KAAK;UAC3B,IAAIM,OAAO,GAAGR,YAAY,EAAE;YACxBE,KAAK,GAAGE,GAAG;YACXC,MAAM,GAAG,CAAC;UACd;UAAC,MACGA,MAAM,IAAIN,MAAM;YAAAc,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,MACV,IAAIlB,QAAQ,CAACmB,cAAc,CAACf,oBAAoB,IAAI,uBAAuB,CAAC;QAAA;UAEtFI,MAAM,GAAGA,MAAM,GAAG,CAAC;UAAC,OAAAQ,QAAA,CAAAI,MAAA,WACbnB,SAAS,CAAAoB,KAAA,SAAAT,KAAQ,CAAC;QAAA;QAAA;UAAA,OAAAI,QAAA,CAAAM,IAAA;MAAA;IAAA,GAAAZ,OAAA;EAAA,CAC5B;AACL,CAAC;AACDb,OAAO,CAACE,eAAe,GAAGA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}