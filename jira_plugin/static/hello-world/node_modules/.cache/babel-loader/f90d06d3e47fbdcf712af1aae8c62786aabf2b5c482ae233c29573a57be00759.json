{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createTranslationFunction = exports.getTranslations = exports.resetTranslationsCache = void 0;\nvar i18n_1 = require(\"@forge/i18n\");\nvar view_1 = require(\"../view\");\nvar frontendResourcesAccessor = {\n  getI18nInfoConfig: function () {\n    var _getI18nInfoConfig = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var resp, info;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"./\".concat(i18n_1.I18N_BUNDLE_FOLDER_NAME, \"/\").concat(i18n_1.I18N_INFO_FILE_NAME));\n          case 2:\n            resp = _context.sent;\n            if (resp.ok) {\n              _context.next = 5;\n              break;\n            }\n            throw new Error('Failed to get i18n info config: ' + resp.statusText);\n          case 5:\n            _context.next = 7;\n            return resp.json();\n          case 7:\n            info = _context.sent;\n            return _context.abrupt(\"return\", info.config);\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    function getI18nInfoConfig() {\n      return _getI18nInfoConfig.apply(this, arguments);\n    }\n    return getI18nInfoConfig;\n  }(),\n  getTranslationResource: function () {\n    var _getTranslationResource = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(locale) {\n      var resp;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(\"./\".concat(i18n_1.I18N_BUNDLE_FOLDER_NAME, \"/\").concat(locale, \".json\"));\n          case 2:\n            resp = _context2.sent;\n            if (resp.ok) {\n              _context2.next = 5;\n              break;\n            }\n            throw new Error(\"Failed to get translation resource for locale: \".concat(locale));\n          case 5:\n            return _context2.abrupt(\"return\", resp.json());\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    function getTranslationResource(_x) {\n      return _getTranslationResource.apply(this, arguments);\n    }\n    return getTranslationResource;\n  }()\n};\nvar translationsGetter = new i18n_1.TranslationsGetter(frontendResourcesAccessor);\nvar resetTranslationsCache = function resetTranslationsCache() {\n  translationsGetter.reset();\n};\nexports.resetTranslationsCache = resetTranslationsCache;\nvar getTranslations = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    var locale,\n      options,\n      targetLocale,\n      context,\n      _args3 = arguments;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          locale = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : null;\n          options = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {\n            fallback: true\n          };\n          targetLocale = locale;\n          if (targetLocale) {\n            _context3.next = 8;\n            break;\n          }\n          _context3.next = 6;\n          return view_1.view.getContext();\n        case 6:\n          context = _context3.sent;\n          targetLocale = context.locale;\n        case 8:\n          _context3.next = 10;\n          return translationsGetter.getTranslations(targetLocale, options);\n        case 10:\n          return _context3.abrupt(\"return\", _context3.sent);\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function getTranslations() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.getTranslations = getTranslations;\nvar createTranslationFunction = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n    var locale,\n      targetLocale,\n      context,\n      translator,\n      _args4 = arguments;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          locale = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : null;\n          targetLocale = locale;\n          if (targetLocale) {\n            _context4.next = 7;\n            break;\n          }\n          _context4.next = 5;\n          return view_1.view.getContext();\n        case 5:\n          context = _context4.sent;\n          targetLocale = context.locale;\n        case 7:\n          translator = new i18n_1.Translator(targetLocale, translationsGetter);\n          _context4.next = 10;\n          return translator.init();\n        case 10:\n          return _context4.abrupt(\"return\", function (i18nKey, defaultValue) {\n            var _a, _b;\n            return (_b = (_a = translator.translate(i18nKey)) !== null && _a !== void 0 ? _a : defaultValue) !== null && _b !== void 0 ? _b : i18nKey;\n          });\n        case 11:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function createTranslationFunction() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.createTranslationFunction = createTranslationFunction;","map":{"version":3,"names":["_regeneratorRuntime","require","default","_asyncToGenerator","Object","defineProperty","exports","value","createTranslationFunction","getTranslations","resetTranslationsCache","i18n_1","view_1","frontendResourcesAccessor","getI18nInfoConfig","_getI18nInfoConfig","mark","_callee","resp","info","wrap","_callee$","_context","prev","next","fetch","concat","I18N_BUNDLE_FOLDER_NAME","I18N_INFO_FILE_NAME","sent","ok","Error","statusText","json","abrupt","config","stop","apply","arguments","getTranslationResource","_getTranslationResource","_callee2","locale","_callee2$","_context2","_x","translationsGetter","TranslationsGetter","reset","_ref","_callee3","options","targetLocale","context","_args3","_callee3$","_context3","length","undefined","fallback","view","getContext","_ref2","_callee4","translator","_args4","_callee4$","_context4","Translator","init","i18nKey","defaultValue","_a","_b","translate"],"sources":["G:/Personal_projects/ai_jira_assistant/jira_plugin/static/hello-world/node_modules/@forge/bridge/out/i18n/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTranslationFunction = exports.getTranslations = exports.resetTranslationsCache = void 0;\nconst i18n_1 = require(\"@forge/i18n\");\nconst view_1 = require(\"../view\");\nconst frontendResourcesAccessor = {\n    getI18nInfoConfig: async () => {\n        const resp = await fetch(`./${i18n_1.I18N_BUNDLE_FOLDER_NAME}/${i18n_1.I18N_INFO_FILE_NAME}`);\n        if (!resp.ok) {\n            throw new Error('Failed to get i18n info config: ' + resp.statusText);\n        }\n        const info = (await resp.json());\n        return info.config;\n    },\n    getTranslationResource: async (locale) => {\n        const resp = await fetch(`./${i18n_1.I18N_BUNDLE_FOLDER_NAME}/${locale}.json`);\n        if (!resp.ok) {\n            throw new Error(`Failed to get translation resource for locale: ${locale}`);\n        }\n        return resp.json();\n    }\n};\nconst translationsGetter = new i18n_1.TranslationsGetter(frontendResourcesAccessor);\nconst resetTranslationsCache = () => {\n    translationsGetter.reset();\n};\nexports.resetTranslationsCache = resetTranslationsCache;\nconst getTranslations = async (locale = null, options = {\n    fallback: true\n}) => {\n    let targetLocale = locale;\n    if (!targetLocale) {\n        const context = await view_1.view.getContext();\n        targetLocale = context.locale;\n    }\n    return await translationsGetter.getTranslations(targetLocale, options);\n};\nexports.getTranslations = getTranslations;\nconst createTranslationFunction = async (locale = null) => {\n    let targetLocale = locale;\n    if (!targetLocale) {\n        const context = await view_1.view.getContext();\n        targetLocale = context.locale;\n    }\n    const translator = new i18n_1.Translator(targetLocale, translationsGetter);\n    await translator.init();\n    return (i18nKey, defaultValue) => { var _a, _b; return (_b = (_a = translator.translate(i18nKey)) !== null && _a !== void 0 ? _a : defaultValue) !== null && _b !== void 0 ? _b : i18nKey; };\n};\nexports.createTranslationFunction = createTranslationFunction;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}